<h1 class="text-center"><%= t "report.all" %></h1>
<div>
  <%= search_form_for @search do |f| %>
    <% f.condition_fields do |c| %>
      <div class="field">
        <%= c.attribute_fields do |a| %>
          <%= a.attribute_select %>
        <% end %>
        <%= c.predicate_select do |v| %>
          <%= v.text_field :value%>
        <% end %>
      </div>
    <% end %>
    <div class="action">
      <%= f.submit t("search"), class: "btn btn-success" %>
    </div>
  <% end %>

  <table class="table">
    <thead>
      <th></th>
      <th><%= sort_link @search, :name, t("report.user") %></th>
      <th><%= sort_link @search, :progress_id, t("report.progess") %></th>
      <th><%= sort_link @search, :working_day, t("report.working_day") %></th>
      <th><%= sort_link @search, :created_at, t("report.date") %></th>
      <th><%= sort_link @search, :achievement, t("report.achievement") %></th>
    </thead>
    <tbody>
      <% @reports.each.with_index do |report, index| %>
        <tr>
          <td><%= index_for_pages index, params[:page] %>
          </td>
          <td><%= link_to report.user.email, admin_user_path(report.user) %></td>
          <td><%= report.progress_name %></td>
          <td><%= report.working_day %></td>
          <td><%= l report.created_at, format: :default%></td>
          <td><%= report.achievement %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <%= will_paginate @reports %>
</div>
